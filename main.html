<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CARLOS SAINZ | SMOOTH OPERATOR</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- GSAP & Lenis -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.4/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.4/ScrollTrigger.min.js"></script>
    <script src="https://unpkg.com/@studio-freight/lenis@1.0.29/dist/lenis.min.js"></script>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Krona+One&family=Space+Grotesk:wght@300;500;700&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'f1-red': '#ff1e00',
                        'f1-dark': '#0b0b0b',
                        'f1-gray': '#1a1a1a',
                    },
                    fontFamily: {
                        'display': ['"Krona One"', 'sans-serif'],
                        'body': ['"Space Grotesk"', 'sans-serif'],
                    }
                }
            }
        }
    </script>

    <style>
        /* --- GLOBAL & UTILS --- */
        body {
            background-color: #050505;
            color: #e5e5e5;
            overflow-x: hidden;
            cursor: none; /* Custom cursor */
        }

        /* Noise Overlay for Texture */
        .noise-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 9998;
            opacity: 0.05;
            background: url('https://grainy-gradients.vercel.app/noise.svg');
        }

        /* Custom Scrollbar Hide */
        ::-webkit-scrollbar { width: 0; }

        /* --- TYPOGRAPHY --- */
        .text-outline {
            -webkit-text-stroke: 1px rgba(255, 255, 255, 0.4);
            color: transparent;
            transition: 0.3s;
        }
        .text-outline:hover {
            color: #ff1e00;
            -webkit-text-stroke: 1px #ff1e00;
        }
        
        .clip-text-image {
            background: url('https://images.unsplash.com/photo-1568605117036-5fe5e7bab0b7?q=80&w=2070&auto=format&fit=crop');
            background-size: cover;
            background-position: center;
            -webkit-background-clip: text;
            color: rgba(255,255,255,0.1);
        }

        /* --- CURSOR --- */
        #cursor {
            width: 20px;
            height: 20px;
            border: 1px solid #ff1e00;
            border-radius: 50%;
            position: fixed;
            pointer-events: none;
            z-index: 9999;
            transition: transform 0.1s ease;
            mix-blend-mode: difference;
        }
        #cursor.active {
            background-color: #ff1e00;
            transform: scale(2);
            border: none;
        }

        /* --- PRELOADER --- */
        .preloader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            z-index: 10000;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }
        
        .loader-bar-bg {
            width: 200px;
            height: 2px;
            background: #333;
            margin-top: 20px;
            overflow: hidden;
        }
        
        .loader-bar {
            width: 0%;
            height: 100%;
            background: #ff1e00;
        }

        /* --- GRID LINES --- */
        .grid-line {
            position: absolute;
            background: rgba(255,255,255,0.05);
            z-index: 0;
        }
        .vertical-line { width: 1px; height: 100%; top: 0; }
        .horizontal-line { height: 1px; width: 100%; left: 0; }

    </style>
</head>
<body class="font-body antialiased">

    <!-- Custom Cursor -->
    <div id="cursor" class="hidden md:block"></div>

    <!-- Noise Texture -->
    <div class="noise-overlay"></div>

    <!-- Preloader -->
    <div class="preloader">
        <div class="text-6xl font-display font-bold tracking-tighter">
            <span class="inline-block loader-text">0</span>%
        </div>
        <div class="loader-bar-bg">
            <div class="loader-bar"></div>
        </div>
        <p class="mt-4 text-xs uppercase tracking-[0.5em] text-gray-500">System Warmup</p>
    </div>

    <!-- Navigation -->
    <nav class="fixed top-0 w-full p-6 z-50 flex justify-between items-center mix-blend-difference text-white">
        <div class="font-display font-bold text-xl tracking-tighter hover-trigger">CS55</div>
        <div class="hidden md:flex gap-8 text-xs font-bold uppercase tracking-widest">
            <a href="#work" class="hover:text-f1-red transition-colors hover-trigger">Work</a>
            <a href="#telemetry" class="hover:text-f1-red transition-colors hover-trigger">Telemetry</a>
            <a href="#contact" class="hover:text-f1-red transition-colors hover-trigger">Contact</a>
        </div>
        <!-- Mobile Menu Icon -->
        <div class="md:hidden w-8 h-8 flex flex-col justify-center gap-1">
            <div class="w-full h-[2px] bg-white"></div>
            <div class="w-full h-[2px] bg-white"></div>
        </div>
    </nav>

    <main>
        <!-- HERO SECTION -->
        <section class="relative h-screen w-full flex flex-col justify-center items-center overflow-hidden">
            <!-- Animated BG Gradient -->
            <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[50vw] h-[50vw] bg-f1-red rounded-full blur-[150px] opacity-20 animate-pulse"></div>
            
            <!-- Grid Background -->
            <div class="grid-line vertical-line left-1/4"></div>
            <div class="grid-line vertical-line right-1/4"></div>

            <div class="relative z-10 text-center mix-blend-overlay">
                <p class="text-xs md:text-sm uppercase tracking-[0.8em] text-white mb-4 hero-sub">Scuderia Frontend</p>
                <h1 class="text-[12vw] leading-[0.85] font-display font-bold uppercase text-white tracking-tighter">
                    <div class="overflow-hidden"><span class="block hero-title">Smooth</span></div>
                    <div class="overflow-hidden"><span class="block hero-title text-outline">Operator</span></div>
                </h1>
            </div>

            <!-- Bottom Info -->
            <div class="absolute bottom-10 w-full px-10 flex justify-between items-end text-xs uppercase text-gray-400 font-bold tracking-widest hero-footer opacity-0">
                <div>Based in Madrid <br> Available Worldwide</div>
                <div class="text-right">Scroll to Start <br> Race Mode: ON</div>
            </div>
        </section>

        <!-- MARQUEE STRIP -->
        <div class="w-full bg-f1-red py-4 overflow-hidden whitespace-nowrap rotate-1 z-20 relative border-y-4 border-black">
            <div class="marquee-content inline-block text-black font-display font-bold text-4xl uppercase">
                Strategy // Precision // Speed // WebGL // React // GSAP // Performance // &nbsp;
                Strategy // Precision // Speed // WebGL // React // GSAP // Performance // &nbsp;
            </div>
        </div>

        <!-- TELEMETRY (ABOUT) SECTION -->
        <section id="telemetry" class="relative py-32 px-6 md:px-20 bg-f1-dark border-t border-gray-800">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-16">
                <div>
                    <h2 class="text-5xl md:text-7xl font-display font-bold uppercase leading-none mb-8 reveal-header">
                        Driver <span class="text-f1-red">Stats</span>
                    </h2>
                    <p class="text-gray-400 text-lg leading-relaxed max-w-md reveal-text">
                        I don't just write code; I engineer experiences. Like a Formula 1 car, your website needs to be aerodynamic, fast, and visually striking. I specialize in high-performance animations and immersive UI.
                    </p>
                    <div class="mt-12 flex gap-4">
                        <button class="px-8 py-4 border border-f1-red text-f1-red hover:bg-f1-red hover:text-black transition-all uppercase font-bold tracking-widest text-xs hover-trigger">
                            Download CV
                        </button>
                    </div>
                </div>

                <div class="grid grid-cols-1 gap-8">
                    <!-- Stat Card -->
                    <div class="border border-gray-800 p-8 bg-[#111] hover:border-f1-red transition-colors duration-500 stat-card">
                        <div class="flex justify-between items-start mb-4">
                            <span class="text-xs text-gray-500 uppercase tracking-widest">Experience</span>
                            <span class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></span>
                        </div>
                        <div class="text-6xl font-display font-bold">
                            <span class="counter" data-value="5">0</span>
                            <span class="text-f1-red text-4xl">Yrs</span>
                        </div>
                    </div>

                    <!-- Stat Card -->
                    <div class="border border-gray-800 p-8 bg-[#111] hover:border-f1-red transition-colors duration-500 stat-card">
                        <div class="flex justify-between items-start mb-4">
                            <span class="text-xs text-gray-500 uppercase tracking-widest">Projects</span>
                        </div>
                        <div class="text-6xl font-display font-bold">
                            <span class="counter" data-value="55">0</span>
                            <span class="text-f1-red text-4xl">+</span>
                        </div>
                        <div class="w-full bg-gray-800 h-1 mt-6">
                            <div class="h-full bg-f1-red w-0 stat-bar"></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- HORIZONTAL SCROLL SECTION (DESKTOP) / VERTICAL (MOBILE) -->
        <section id="work-wrapper" class="relative bg-white text-black overflow-hidden">
            
            <!-- Pinned Container -->
            <div id="work-container" class="h-full md:h-screen md:flex md:flex-nowrap">
                
                <!-- Intro Panel -->
                <div class="w-full md:w-[40vw] h-[50vh] md:h-screen flex-shrink-0 flex flex-col justify-center p-10 md:p-20 bg-f1-gray text-white border-r border-gray-700 z-10 relative">
                    <h2 class="text-[15vw] md:text-[8vw] font-display font-bold leading-none mb-4">WORK</h2>
                    <p class="text-sm uppercase tracking-widest text-f1-red">Selected Circuits</p>
                    <div class="absolute bottom-10 left-20 hidden md:block">
                        <div class="w-12 h-12 border border-gray-600 rounded-full flex items-center justify-center animate-bounce">
                            â†“
                        </div>
                    </div>
                </div>

                <!-- Project 1 -->
                <div class="work-panel w-full md:w-[80vw] h-screen flex-shrink-0 flex flex-col md:flex-row bg-white text-black relative overflow-hidden">
                    <div class="w-full md:w-2/3 h-1/2 md:h-full relative overflow-hidden group">
                        <img src="https://images.unsplash.com/photo-1492629766639-73f03b92ddbb?q=80&w=2070&auto=format&fit=crop" class="absolute inset-0 w-full h-full object-cover transition-transform duration-1000 group-hover:scale-110" alt="Project 1">
                        <div class="absolute inset-0 bg-black/10 group-hover:bg-transparent transition-all"></div>
                    </div>
                    <div class="w-full md:w-1/3 h-1/2 md:h-full p-10 md:p-16 flex flex-col justify-center border-l border-gray-200">
                        <span class="text-xs font-bold uppercase tracking-widest text-f1-red mb-4">01 // E-Commerce</span>
                        <h3 class="text-4xl md:text-5xl font-display font-bold mb-6 uppercase">Pole Position</h3>
                        <p class="text-gray-600 mb-8 leading-relaxed">A high-speed headless Shopify store built with Next.js and WebGL product configurators.</p>
                        <a href="#" class="text-lg font-bold border-b-2 border-black hover:border-f1-red hover:text-f1-red transition-all inline-block w-max hover-trigger">View Case Study</a>
                    </div>
                </div>

                <!-- Project 2 -->
                <div class="work-panel w-full md:w-[80vw] h-screen flex-shrink-0 flex flex-col md:flex-row bg-[#f0f0f0] text-black relative overflow-hidden">
                    <div class="w-full md:w-2/3 h-1/2 md:h-full relative overflow-hidden group">
                        <img src="https://images.unsplash.com/photo-1635070041078-e363dbe005cb?q=80&w=2070&auto=format&fit=crop" class="absolute inset-0 w-full h-full object-cover transition-transform duration-1000 group-hover:scale-110" alt="Project 2">
                    </div>
                    <div class="w-full md:w-1/3 h-1/2 md:h-full p-10 md:p-16 flex flex-col justify-center border-l border-gray-300">
                        <span class="text-xs font-bold uppercase tracking-widest text-f1-red mb-4">02 // Fintech</span>
                        <h3 class="text-4xl md:text-5xl font-display font-bold mb-6 uppercase">Apex Data</h3>
                        <p class="text-gray-600 mb-8 leading-relaxed">Real-time crypto trading dashboard inspired by F1 steering wheel telemetry graphics.</p>
                        <a href="#" class="text-lg font-bold border-b-2 border-black hover:border-f1-red hover:text-f1-red transition-all inline-block w-max hover-trigger">View Case Study</a>
                    </div>
                </div>

            </div>
        </section>

        <!-- CONTACT / FOOTER -->
        <section id="contact" class="h-[80vh] bg-black flex flex-col justify-center items-center text-center relative overflow-hidden">
            <div class="absolute inset-0 opacity-20" style="background-image: radial-gradient(#333 1px, transparent 1px); background-size: 30px 30px;"></div>
            
            <p class="text-f1-red uppercase tracking-widest font-bold mb-4">Final Lap</p>
            <h2 class="text-[10vw] font-display font-bold uppercase leading-none hover:text-stroke hover:text-transparent transition-all duration-500 cursor-pointer hover-trigger">
                Let's Race
            </h2>
            <a href="mailto:carlos@sainz.dev" class="mt-10 px-10 py-4 border border-white text-white hover:bg-white hover:text-black transition-all uppercase tracking-widest text-sm font-bold hover-trigger">
                Start Engine
            </a>
        </section>
    </main>

    <script>
        // Wait for DOM
        document.addEventListener("DOMContentLoaded", (event) => {
            
            // 1. SETUP PLUGINS
            gsap.registerPlugin(ScrollTrigger);
            
            // Lenis Smooth Scroll
            const lenis = new Lenis({
                duration: 1.5, // Heavy inertia
                easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),
                smooth: true,
                direction: 'vertical',
            });

            function raf(time) {
                lenis.raf(time);
                requestAnimationFrame(raf);
            }
            requestAnimationFrame(raf);

            // Sync GSAP + Lenis
            lenis.on('scroll', ScrollTrigger.update);
            gsap.ticker.add((time) => lenis.raf(time * 1000));
            gsap.ticker.lagSmoothing(0);

            // 2. PRELOADER SEQUENCE
            const tlLoad = gsap.timeline();
            let progress = { value: 0 };
            
            tlLoad.to(progress, {
                value: 100,
                duration: 2,
                onUpdate: function() {
                    document.querySelector('.loader-text').textContent = Math.round(progress.value);
                }
            })
            .to('.loader-bar', { width: '100%', duration: 2, ease: 'power2.inOut' }, 0)
            .to('.preloader', { 
                yPercent: -100, 
                duration: 1, 
                ease: 'power4.inOut' 
            })
            .from('.hero-title', {
                y: 200,
                duration: 1.5,
                stagger: 0.1,
                ease: 'power4.out'
            }, "-=0.5")
            .to('.hero-sub', { opacity: 1, duration: 1 }, "-=1")
            .to('.hero-footer', { opacity: 1, y: 0, duration: 1 }, "-=1");


            // 3. HERO PARALLAX
            gsap.to('h1', {
                yPercent: 50,
                scrollTrigger: {
                    trigger: 'header',
                    start: 'top top',
                    end: 'bottom top',
                    scrub: true
                }
            });

            // 4. MARQUEE ANIMATION
            gsap.to(".marquee-content", {
                xPercent: -50,
                ease: "none",
                duration: 10,
                repeat: -1
            });

            // 5. HORIZONTAL SCROLL (Desktop Only)
            // We use MatchMedia to only apply pinning on desktop
            let mm = gsap.matchMedia();

            mm.add("(min-width: 768px)", () => {
                let sections = gsap.utils.toArray(".work-panel");
                
                gsap.to(sections, {
                    xPercent: -100 * (sections.length), // Move all panels
                    ease: "none",
                    scrollTrigger: {
                        trigger: "#work-wrapper",
                        pin: true,
                        scrub: 1,
                        // Adjust the 'end' value to control scroll speed. longer = slower
                        end: () => "+=" + (document.querySelector("#work-container").offsetWidth), 
                    }
                });
            });

            // 6. REVEAL ANIMATIONS
            const revealElements = document.querySelectorAll(".reveal-header, .reveal-text");
            revealElements.forEach(el => {
                gsap.from(el, {
                    y: 50,
                    opacity: 0,
                    duration: 1,
                    ease: "power3.out",
                    scrollTrigger: {
                        trigger: el,
                        start: "top 85%",
                    }
                });
            });

            // 7. STATS COUNTER
            const counters = document.querySelectorAll('.counter');
            counters.forEach(counter => {
                let target = counter.getAttribute('data-value');
                ScrollTrigger.create({
                    trigger: counter,
                    start: "top 85%",
                    once: true,
                    onEnter: () => {
                        gsap.to(counter, {
                            innerHTML: target,
                            duration: 2,
                            snap: { innerHTML: 1 },
                            ease: "power2.out"
                        });
                        gsap.to(".stat-bar", { width: "100%", duration: 1.5, ease: "power2.out" });
                    }
                });
            });

            // 8. CUSTOM CURSOR
            const cursor = document.getElementById('cursor');
            const hoverTriggers = document.querySelectorAll('.hover-trigger');

            document.addEventListener('mousemove', (e) => {
                gsap.to(cursor, {
                    x: e.clientX - 10,
                    y: e.clientY - 10,
                    duration: 0.1
                });
            });

            hoverTriggers.forEach(link => {
                link.addEventListener('mouseenter', () => cursor.classList.add('active'));
                link.addEventListener('mouseleave', () => cursor.classList.remove('active'));
            });
        });
    </script>
</body>
</html>
